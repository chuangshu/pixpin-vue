import{_ as we,o as be,c as A,b as u,w as ne,i as ce,v as _e,d as Le,t as K,n as ke,f as x,j as Se,F as Ee,r as Oe,g as z,k as Re,h as I}from"./index-BQcgjDF-.js";function Te(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var Ae={exports:{}};(function(o){var s=function(l){var d=Object.prototype,y=d.hasOwnProperty,R=Object.defineProperty||function(r,e,n){r[e]=n.value},p,w=typeof Symbol=="function"?Symbol:{},E=w.iterator||"@@iterator",L=w.asyncIterator||"@@asyncIterator",O=w.toStringTag||"@@toStringTag";function h(r,e,n){return Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),r[e]}try{h({},"")}catch{h=function(e,n,c){return e[n]=c}}function T(r,e,n,c){var t=e&&e.prototype instanceof B?e:B,a=Object.create(t.prototype),v=new Q(c||[]);return R(a,"_invoke",{value:re(r,n,v)}),a}l.wrap=T;function N(r,e,n){try{return{type:"normal",arg:r.call(e,n)}}catch(c){return{type:"throw",arg:c}}}var C="suspendedStart",M="suspendedYield",D="executing",j="completed",k={};function B(){}function G(){}function S(){}var f={};h(f,E,function(){return this});var i=Object.getPrototypeOf,b=i&&i(i(X([])));b&&b!==d&&y.call(b,E)&&(f=b);var P=S.prototype=B.prototype=Object.create(f);G.prototype=S,R(P,"constructor",{value:S,configurable:!0}),R(S,"constructor",{value:G,configurable:!0}),G.displayName=h(S,O,"GeneratorFunction");function V(r){["next","throw","return"].forEach(function(e){h(r,e,function(n){return this._invoke(e,n)})})}l.isGeneratorFunction=function(r){var e=typeof r=="function"&&r.constructor;return e?e===G||(e.displayName||e.name)==="GeneratorFunction":!1},l.mark=function(r){return Object.setPrototypeOf?Object.setPrototypeOf(r,S):(r.__proto__=S,h(r,O,"GeneratorFunction")),r.prototype=Object.create(P),r},l.awrap=function(r){return{__await:r}};function J(r,e){function n(a,v,g,m){var _=N(r[a],r,v);if(_.type==="throw")m(_.arg);else{var W=_.arg,U=W.value;return U&&typeof U=="object"&&y.call(U,"__await")?e.resolve(U.__await).then(function(F){n("next",F,g,m)},function(F){n("throw",F,g,m)}):e.resolve(U).then(function(F){W.value=F,g(W)},function(F){return n("throw",F,g,m)})}}var c;function t(a,v){function g(){return new e(function(m,_){n(a,v,m,_)})}return c=c?c.then(g,g):g()}R(this,"_invoke",{value:t})}V(J.prototype),h(J.prototype,L,function(){return this}),l.AsyncIterator=J,l.async=function(r,e,n,c,t){t===void 0&&(t=Promise);var a=new J(T(r,e,n,c),t);return l.isGeneratorFunction(e)?a:a.next().then(function(v){return v.done?v.value:a.next()})};function re(r,e,n){var c=C;return function(a,v){if(c===D)throw new Error("Generator is already running");if(c===j){if(a==="throw")throw v;return ee()}for(n.method=a,n.arg=v;;){var g=n.delegate;if(g){var m=Z(g,n);if(m){if(m===k)continue;return m}}if(n.method==="next")n.sent=n._sent=n.arg;else if(n.method==="throw"){if(c===C)throw c=j,n.arg;n.dispatchException(n.arg)}else n.method==="return"&&n.abrupt("return",n.arg);c=D;var _=N(r,e,n);if(_.type==="normal"){if(c=n.done?j:M,_.arg===k)continue;return{value:_.arg,done:n.done}}else _.type==="throw"&&(c=j,n.method="throw",n.arg=_.arg)}}}function Z(r,e){var n=e.method,c=r.iterator[n];if(c===p)return e.delegate=null,n==="throw"&&r.iterator.return&&(e.method="return",e.arg=p,Z(r,e),e.method==="throw")||n!=="return"&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),k;var t=N(c,r.iterator,e.arg);if(t.type==="throw")return e.method="throw",e.arg=t.arg,e.delegate=null,k;var a=t.arg;if(!a)return e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,k;if(a.done)e[r.resultName]=a.value,e.next=r.nextLoc,e.method!=="return"&&(e.method="next",e.arg=p);else return a;return e.delegate=null,k}V(P),h(P,O,"Generator"),h(P,E,function(){return this}),h(P,"toString",function(){return"[object Generator]"});function oe(r){var e={tryLoc:r[0]};1 in r&&(e.catchLoc=r[1]),2 in r&&(e.finallyLoc=r[2],e.afterLoc=r[3]),this.tryEntries.push(e)}function H(r){var e=r.completion||{};e.type="normal",delete e.arg,r.completion=e}function Q(r){this.tryEntries=[{tryLoc:"root"}],r.forEach(oe,this),this.reset(!0)}l.keys=function(r){var e=Object(r),n=[];for(var c in e)n.push(c);return n.reverse(),function t(){for(;n.length;){var a=n.pop();if(a in e)return t.value=a,t.done=!1,t}return t.done=!0,t}};function X(r){if(r){var e=r[E];if(e)return e.call(r);if(typeof r.next=="function")return r;if(!isNaN(r.length)){var n=-1,c=function t(){for(;++n<r.length;)if(y.call(r,n))return t.value=r[n],t.done=!1,t;return t.value=p,t.done=!0,t};return c.next=c}}return{next:ee}}l.values=X;function ee(){return{value:p,done:!0}}return Q.prototype={constructor:Q,reset:function(r){if(this.prev=0,this.next=0,this.sent=this._sent=p,this.done=!1,this.delegate=null,this.method="next",this.arg=p,this.tryEntries.forEach(H),!r)for(var e in this)e.charAt(0)==="t"&&y.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=p)},stop:function(){this.done=!0;var r=this.tryEntries[0],e=r.completion;if(e.type==="throw")throw e.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var e=this;function n(m,_){return a.type="throw",a.arg=r,e.next=m,_&&(e.method="next",e.arg=p),!!_}for(var c=this.tryEntries.length-1;c>=0;--c){var t=this.tryEntries[c],a=t.completion;if(t.tryLoc==="root")return n("end");if(t.tryLoc<=this.prev){var v=y.call(t,"catchLoc"),g=y.call(t,"finallyLoc");if(v&&g){if(this.prev<t.catchLoc)return n(t.catchLoc,!0);if(this.prev<t.finallyLoc)return n(t.finallyLoc)}else if(v){if(this.prev<t.catchLoc)return n(t.catchLoc,!0)}else if(g){if(this.prev<t.finallyLoc)return n(t.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(r,e){for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n];if(c.tryLoc<=this.prev&&y.call(c,"finallyLoc")&&this.prev<c.finallyLoc){var t=c;break}}t&&(r==="break"||r==="continue")&&t.tryLoc<=e&&e<=t.finallyLoc&&(t=null);var a=t?t.completion:{};return a.type=r,a.arg=e,t?(this.method="next",this.next=t.finallyLoc,k):this.complete(a)},complete:function(r,e){if(r.type==="throw")throw r.arg;return r.type==="break"||r.type==="continue"?this.next=r.arg:r.type==="return"?(this.rval=this.arg=r.arg,this.method="return",this.next="end"):r.type==="normal"&&e&&(this.next=e),k},finish:function(r){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===r)return this.complete(n.completion,n.afterLoc),H(n),k}},catch:function(r){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===r){var c=n.completion;if(c.type==="throw"){var t=c.arg;H(n)}return t}}throw new Error("illegal catch attempt")},delegateYield:function(r,e,n){return this.delegate={iterator:X(r),resultName:e,nextLoc:n},this.method==="next"&&(this.arg=p),k}},l}(o.exports);try{regeneratorRuntime=s}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=s:Function("r","regeneratorRuntime = r")(s)}})(Ae);var ie=(o,s)=>`${o}-${s}-${Math.random().toString(16).slice(3,8)}`;const Ie=ie;let ue=0;var ve=({id:o,action:s,payload:l={}})=>{let d=o;return typeof d>"u"&&(d=Ie("Job",ue),ue+=1),{id:d,action:s,payload:l}},q={};let le=!1;q.logging=le;q.setLogging=o=>{le=o};q.log=(...o)=>le?console.log.apply(void 0,o):null;const Ne=ve,{log:te}=q,Ce=ie;let de=0;var Pe=()=>{const o=Ce("Scheduler",de),s={},l={};let d=[];de+=1;const y=()=>d.length,R=()=>Object.keys(s).length,p=()=>{if(d.length!==0){const h=Object.keys(s);for(let T=0;T<h.length;T+=1)if(typeof l[h[T]]>"u"){d[0](s[h[T]]);break}}},w=(h,T)=>new Promise((N,C)=>{const M=Ne({action:h,payload:T});d.push(async D=>{d.shift(),l[D.id]=M;try{N(await D[h].apply(void 0,[...T,M.id]))}catch(j){C(j)}finally{delete l[D.id],p()}}),te(`[${o}]: Add ${M.id} to JobQueue`),te(`[${o}]: JobQueue length=${d.length}`),p()});return{addWorker:h=>(s[h.id]=h,te(`[${o}]: Add ${h.id}`),te(`[${o}]: Number of workers=${R()}`),p(),h.id),addJob:async(h,...T)=>{if(R()===0)throw Error(`[${o}]: You need to have at least one worker before adding jobs`);return w(h,T)},terminate:async()=>{Object.keys(s).forEach(async h=>{await s[h].terminate()}),d=[]},getQueueLen:y,getNumWorkers:R}};function $e(o){throw new Error('Could not dynamically require "'+o+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}function Me(){return!!(typeof window<"u"&&typeof window.process=="object"&&window.process.type==="renderer"||typeof process<"u"&&typeof process.versions=="object"&&process.versions.electron||typeof navigator=="object"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Electron")>=0)}var De=Me;const je=De;var Ge=o=>{const s={};return typeof WorkerGlobalScope<"u"?s.type="webworker":je()?s.type="electron":typeof document=="object"?s.type="browser":typeof process=="object"&&typeof $e=="function"&&(s.type="node"),typeof o>"u"?s:s[o]};const Ue=Ge("type")==="browser",Fe=Ue?o=>new URL(o,window.location.href).href:o=>o;var ze=o=>{const s={...o};return["corePath","workerPath","langPath"].forEach(l=>{o[l]&&(s[l]=Fe(s[l]))}),s},Be=o=>{const s=[],l=[],d=[],y=[],R=[];return o.blocks&&o.blocks.forEach(p=>{p.paragraphs.forEach(w=>{w.lines.forEach(E=>{E.words.forEach(L=>{L.symbols.forEach(O=>{R.push({...O,page:o,block:p,paragraph:w,line:E,word:L})}),y.push({...L,page:o,block:p,paragraph:w,line:E})}),d.push({...E,page:o,block:p,paragraph:w})}),l.push({...w,page:o,block:p})}),s.push({...p,page:o})}),{...o,blocks:s,paragraphs:l,lines:d,words:y,symbols:R}},ge={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3};const We="5.1.1",He={version:We};var Ye={workerBlobURL:!0,logger:()=>{}};const Je=He.version,Ke=Ye;var qe={...Ke,workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${Je}/dist/worker.min.js`},Ve=({workerPath:o,workerBlobURL:s})=>{let l;if(Blob&&URL&&s){const d=new Blob([`importScripts("${o}");`],{type:"application/javascript"});l=new Worker(URL.createObjectURL(d))}else l=new Worker(o);return l},Ze=o=>{o.terminate()},Qe=(o,s)=>{o.onmessage=({data:l})=>{s(l)}},Xe=async(o,s)=>{o.postMessage(s)};const ae=o=>new Promise((s,l)=>{const d=new FileReader;d.onload=()=>{s(d.result)},d.onerror=({target:{error:{code:y}}})=>{l(Error(`File could not be read! Code=${y}`))},d.readAsArrayBuffer(o)}),se=async o=>{let s=o;if(typeof o>"u")return"undefined";if(typeof o=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(o)?s=atob(o.split(",")[1]).split("").map(l=>l.charCodeAt(0)):s=await(await fetch(o)).arrayBuffer();else if(typeof HTMLElement<"u"&&o instanceof HTMLElement)o.tagName==="IMG"&&(s=await se(o.src)),o.tagName==="VIDEO"&&(s=await se(o.poster)),o.tagName==="CANVAS"&&await new Promise(l=>{o.toBlob(async d=>{s=await ae(d),l()})});else if(typeof OffscreenCanvas<"u"&&o instanceof OffscreenCanvas){const l=await o.convertToBlob();s=await ae(l)}else(o instanceof File||o instanceof Blob)&&(s=await ae(o));return new Uint8Array(s)};var xe=se;const et=qe,tt=Ve,rt=Ze,ot=Qe,nt=Xe,at=xe;var st={defaultOptions:et,spawnWorker:tt,terminateWorker:rt,onMessage:ot,send:nt,loadImage:at};const it=ze,lt=Be,$=ve,{log:fe}=q,ct=ie,Y=ge,{defaultOptions:ut,spawnWorker:dt,terminateWorker:ft,onMessage:ht,loadImage:he,send:pt}=st;let pe=0;var ye=async(o="eng",s=Y.LSTM_ONLY,l={},d={})=>{const y=ct("Worker",pe),{logger:R,errorHandler:p,...w}=it({...ut,...l}),E={},L={},O=typeof o=="string"?o.split("+"):o;let h=s,T=d;const N=[Y.DEFAULT,Y.LSTM_ONLY].includes(s)&&!w.legacyCore;let C,M;const D=new Promise((t,a)=>{M=t,C=a}),j=t=>{C(t.message)};let k=dt(w);k.onerror=j,pe+=1;const B=(t,a)=>{E[t]=a},G=(t,a)=>{L[t]=a},S=({id:t,action:a,payload:v})=>new Promise((g,m)=>{fe(`[${y}]: Start ${t}, action=${a}`);const _=`${a}-${t}`;B(_,g),G(_,m),pt(k,{workerId:y,jobId:t,action:a,payload:v})}),f=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),i=t=>S($({id:t,action:"load",payload:{options:{lstmOnly:N,corePath:w.corePath,logging:w.logging}}})),b=(t,a,v)=>S($({id:v,action:"FS",payload:{method:"writeFile",args:[t,a]}})),P=(t,a)=>S($({id:a,action:"FS",payload:{method:"readFile",args:[t,{encoding:"utf8"}]}})),V=(t,a)=>S($({id:a,action:"FS",payload:{method:"unlink",args:[t]}})),J=(t,a,v)=>S($({id:v,action:"FS",payload:{method:t,args:a}})),re=()=>console.warn("`loadLanguage` is depreciated and should be removed from code (workers now come with language pre-loaded)"),Z=(t,a)=>S($({id:a,action:"loadLanguage",payload:{langs:t,options:{langPath:w.langPath,dataPath:w.dataPath,cachePath:w.cachePath,cacheMethod:w.cacheMethod,gzip:w.gzip,lstmOnly:[Y.DEFAULT,Y.LSTM_ONLY].includes(h)&&!w.legacyLang}}})),oe=()=>console.warn("`initialize` is depreciated and should be removed from code (workers now come pre-initialized)"),H=(t,a,v,g)=>S($({id:g,action:"initialize",payload:{langs:t,oem:a,config:v}})),Q=(t="eng",a,v,g)=>{if(N&&[Y.TESSERACT_ONLY,Y.TESSERACT_LSTM_COMBINED].includes(a))throw Error("Legacy model requested but code missing.");const m=a||h;h=m;const _=v||T;T=_;const U=(typeof t=="string"?t.split("+"):t).filter(F=>!O.includes(F));return O.push(...U),U.length>0?Z(U,g).then(()=>H(t,m,_,g)):H(t,m,_,g)},X=(t={},a)=>S($({id:a,action:"setParameters",payload:{params:t}})),ee=async(t,a={},v={blocks:!0,text:!0,hocr:!0,tsv:!0},g)=>S($({id:g,action:"recognize",payload:{image:await he(t),options:a,output:v}})),r=(t="Tesseract OCR Result",a=!1,v)=>(console.log("`getPDF` function is depreciated. `recognize` option `savePDF` should be used instead."),S($({id:v,action:"getPDF",payload:{title:t,textonly:a}}))),e=async(t,a)=>{if(N)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return S($({id:a,action:"detect",payload:{image:await he(t)}}))},n=async()=>(k!==null&&(ft(k),k=null),Promise.resolve());ht(k,({workerId:t,jobId:a,status:v,action:g,data:m})=>{const _=`${g}-${a}`;if(v==="resolve"){fe(`[${t}]: Complete ${a}`);let W=m;g==="recognize"?W=lt(m):g==="getPDF"&&(W=Array.from({...m,length:Object.keys(m).length})),E[_]({jobId:a,data:W})}else if(v==="reject")if(L[_](m),g==="load"&&C(m),p)p(m);else throw Error(m);else v==="progress"&&R({...m,userJobId:a})});const c={id:y,worker:k,setResolve:B,setReject:G,load:f,writeText:b,readText:P,removeFile:V,FS:J,loadLanguage:re,initialize:oe,reinitialize:Q,setParameters:X,recognize:ee,getPDF:r,detect:e,terminate:n};return i().then(()=>Z(o)).then(()=>H(o,s,d)).then(()=>M(c)).catch(()=>{}),D};const me=ye,vt=async(o,s,l)=>{const d=await me(s,1,l);return d.recognize(o).finally(async()=>{await d.terminate()})},gt=async(o,s)=>{const l=await me("osd",0,s);return l.detect(o).finally(async()=>{await l.terminate()})};var yt={recognize:vt,detect:gt},mt={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"},wt={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"};const bt=Pe,_t=ye,Lt=yt,kt=mt,St=ge,Et=wt,{setLogging:Ot}=q;var Rt={languages:kt,OEM:St,PSM:Et,createScheduler:bt,createWorker:_t,setLogging:Ot,...Lt};const Tt=Te(Rt),At={class:"ocr-container"},It={class:"ocr-content"},Nt={class:"image-section"},Ct={key:0,class:"upload-placeholder"},Pt={key:1,class:"preview-wrapper"},$t=["src"],Mt={class:"language-select"},Dt=["disabled"],jt={key:0,class:"progress-bar"},Gt={class:"progress-text"},Ut={class:"result-section"},Ft={class:"result-header"},zt={key:0,class:"result-actions"},Bt={class:"result-content"},Wt={key:0,class:"empty-result"},Ht={key:1,class:"result-text"},Yt={class:"word-count"},Jt={key:2,class:"processing"},Kt={key:0,class:"result-tips"},qt={key:0,class:"history-section"},Vt={class:"history-list"},Zt=["onClick"],Qt=["src","alt"],Xt={class:"history-info"},xt={class:"history-date"},er={class:"history-preview"},tr={__name:"OCR",setup(o){const s=Re(),l=z(null),d=z(null),y=z(null),R=z("chi_sim"),p=z(!1),w=z(0),E=z(""),L=z(""),O=z([]),h=()=>{var f;(f=l.value)==null||f.click()},T=f=>{const i=f.dataTransfer.files[0];i&&i.type.startsWith("image/")&&C(i)},N=f=>{const i=f.target.files[0];i&&C(i)},C=f=>{const i=new FileReader;i.onload=b=>{y.value=b.target.result,L.value=""},i.readAsDataURL(f)},M=async()=>{if(y.value){p.value=!0,w.value=0,E.value="Ê≠£Âú®ÂàùÂßãÂåñ...";try{const f=await Tt.createWorker(R.value,1,{logger:b=>{b.status==="recognizing text"?(w.value=Math.round(b.progress*100),E.value="Ê≠£Âú®ËØÜÂà´ÊñáÂ≠ó..."):E.value=b.status}}),{data:{text:i}}=await f.recognize(y.value);L.value=i.trim(),D(i.trim()),await f.terminate()}catch(f){console.error("OCRËØÜÂà´Â§±Ë¥•:",f),alert("ËØÜÂà´Â§±Ë¥•ÔºåËØ∑ÈáçËØï")}finally{p.value=!1,w.value=100,E.value="ËØÜÂà´ÂÆåÊàê"}}},D=f=>{const i={image:y.value,text:f,date:new Date().toISOString()};O.value.unshift(i),O.value.length>10&&(O.value=O.value.slice(0,10));try{localStorage.setItem("ocr-history",JSON.stringify(O.value))}catch(b){console.error("‰øùÂ≠òÂéÜÂè≤Â§±Ë¥•:",b)}},j=f=>{y.value=f.image,L.value=f.text},k=()=>{confirm("Á°ÆÂÆöË¶ÅÊ∏ÖÈô§ÊâÄÊúâÂéÜÂè≤ËÆ∞ÂΩïÂêóÔºü")&&(O.value=[],localStorage.removeItem("ocr-history"))},B=async()=>{try{await navigator.clipboard.writeText(L.value),alert("Â∑≤Â§çÂà∂Âà∞Ââ™Ë¥¥Êùø")}catch{d.value.select(),document.execCommand("copy"),alert("Â∑≤Â§çÂà∂Âà∞Ââ™Ë¥¥Êùø")}},G=()=>{const f=new Blob([L.value],{type:"text/plain"}),i=document.createElement("a");i.download=`ocr-result-${Date.now()}.txt`,i.href=URL.createObjectURL(f),i.click()},S=f=>new Date(f).toLocaleString("zh-CN",{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"});return be(()=>{try{const f=localStorage.getItem("ocr-history");f&&(O.value=JSON.parse(f)),s.query.image&&(y.value=s.query.image)}catch(f){console.error("Âä†ËΩΩÊï∞ÊçÆÂ§±Ë¥•:",f)}}),(f,i)=>(I(),A("div",At,[i[11]||(i[11]=u("div",{class:"page-header"},[u("h1",null,"üîç OCR ÊñáÂ≠óËØÜÂà´"),u("p",null,"‰ªéÂõæÁâá‰∏≠ÊèêÂèñÊñáÂ≠óÂÜÖÂÆπ")],-1)),u("div",It,[u("div",Nt,[u("div",{class:"upload-area",onClick:h,onDrop:ne(T,["prevent"]),onDragover:i[0]||(i[0]=ne(()=>{},["prevent"]))},[u("input",{type:"file",ref_key:"fileInputRef",ref:l,accept:"image/*",onChange:N,hidden:""},null,544),y.value?(I(),A("div",Pt,[u("img",{src:y.value,alt:"È¢ÑËßà",class:"preview-image"},null,8,$t),u("button",{class:"change-btn",onClick:ne(h,["stop"])},"Êõ¥Êç¢ÂõæÁâá")])):(I(),A("div",Ct,[...i[3]||(i[3]=[u("span",{class:"upload-icon"},"üìÅ",-1),u("p",null,"ÁÇπÂáªÊàñÊãñÊãΩÂõæÁâáÂà∞ËøôÈáå",-1),u("p",{class:"upload-hint"},"ÊîØÊåÅ PNG„ÄÅJPG„ÄÅGIF",-1)])]))],32),u("div",Mt,[i[5]||(i[5]=u("label",null,"ËØÜÂà´ËØ≠Ë®ÄÔºö",-1)),ce(u("select",{"onUpdate:modelValue":i[1]||(i[1]=b=>R.value=b),class:"input"},[...i[4]||(i[4]=[Le('<option value="eng" data-v-94328e95>English</option><option value="chi_sim" data-v-94328e95>ÁÆÄ‰Ωì‰∏≠Êñá</option><option value="chi_tra" data-v-94328e95>ÁπÅÈ´î‰∏≠Êñá</option><option value="jpn" data-v-94328e95>Êó•Êú¨Ë™û</option><option value="kor" data-v-94328e95>ÌïúÍµ≠Ïñ¥</option><option value="deu" data-v-94328e95>Deutsch</option><option value="fra" data-v-94328e95>Fran√ßais</option><option value="spa" data-v-94328e95>Espa√±ol</option>',8)])],512),[[_e,R.value]])]),u("button",{class:"btn btn-primary start-btn",onClick:M,disabled:!y.value||p.value},K(p.value?"ËØÜÂà´‰∏≠...":"üöÄ ÂºÄÂßãËØÜÂà´"),9,Dt),p.value?(I(),A("div",jt,[u("div",{class:"progress-fill",style:ke({width:w.value+"%"})},null,4),u("span",Gt,K(E.value),1)])):x("",!0)]),u("div",Ut,[u("div",Ft,[i[6]||(i[6]=u("h3",null,"ËØÜÂà´ÁªìÊûú",-1)),L.value?(I(),A("div",zt,[u("button",{class:"btn btn-secondary btn-sm",onClick:B}," üìã Â§çÂà∂ "),u("button",{class:"btn btn-secondary btn-sm",onClick:G}," üíæ ‰øùÂ≠ò ")])):x("",!0)]),u("div",Bt,[!L.value&&!p.value?(I(),A("div",Wt,[...i[7]||(i[7]=[u("span",{class:"empty-icon"},"üìù",-1),u("p",null,"‰∏ä‰º†ÂõæÁâáÂêéÂºÄÂßãËØÜÂà´",-1)])])):L.value?(I(),A("div",Ht,[ce(u("textarea",{ref_key:"resultTextarea",ref:d,"onUpdate:modelValue":i[2]||(i[2]=b=>L.value=b),class:"result-input",placeholder:"ËØÜÂà´ÁªìÊûúÂ∞ÜÊòæÁ§∫Âú®ËøôÈáå..."},null,512),[[Se,L.value]]),u("div",Yt,K(L.value.length)+" ‰∏™Â≠óÁ¨¶Ôºå"+K(L.value.split(/\s+/).filter(b=>b).length)+" ‰∏™ÂçïËØç ",1)])):p.value?(I(),A("div",Jt,[...i[8]||(i[8]=[u("div",{class:"spinner"},null,-1),u("p",null,"Ê≠£Âú®ÂàÜÊûêÂõæÁâá...",-1)])])):x("",!0)]),L.value?(I(),A("div",Kt,[...i[9]||(i[9]=[u("p",null,"üí° ÊèêÁ§∫ÔºöËØÜÂà´ÁªìÊûúÂèØËÉΩÂåÖÂê´ÈîôËØØÔºåËØ∑‰ªîÁªÜÊ†∏ÂØπ",-1)])])):x("",!0)])]),O.value.length>0?(I(),A("div",qt,[u("div",{class:"history-header"},[i[10]||(i[10]=u("h3",null,"üìú ËØÜÂà´ÂéÜÂè≤",-1)),u("button",{class:"btn btn-secondary btn-sm",onClick:k}," Ê∏ÖÈô§ÂéÜÂè≤ ")]),u("div",Vt,[(I(!0),A(Ee,null,Oe(O.value,(b,P)=>(I(),A("div",{key:P,class:"history-item",onClick:V=>j(b)},[u("img",{src:b.image,alt:"ÂéÜÂè≤"+(P+1),class:"history-thumb"},null,8,Qt),u("div",Xt,[u("span",xt,K(S(b.date)),1),u("span",er,K(b.text.substring(0,50))+"...",1)])],8,Zt))),128))])])):x("",!0)]))}},or=we(tr,[["__scopeId","data-v-94328e95"]]);export{or as default};
